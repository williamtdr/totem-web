<div class="modal fade" id="room_settings_modal" tabindex="-1" role="dialog" aria-labelledby="room_settings_modalLabel">
	<div class="modal-dialog">
		<div class="modal-content room-settings-content">
			<div class="modal-header">
				<h4 class="modal-title" id="room_settings_modalLabel"><a id="room_settings_return"><i class="fa fa-angle-left"></i></a><span id="room_settings_title">Room Settings</span></h4>
			</div>
			<div class="modal-body">
				<div id="room_settings_home" data-title="Room Settings" class="room_settings_list">
					<div class="form-group">
						<label for="room_settings_desc">Description</label>
						<textarea class="form-control" id="room_settings_desc"></textarea>
						<span id="markdown_info">We support <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" target="_blank">Markdown</a> for full descriptions and <b>**bold text**</b> for the short description.</span>
					</div>
					<div class="form-group modal-action" data-destination="blacklist">
						<i class="fa fa-ban" style="margin-left: 4px"></i><label>Song Blacklist &raquo;</label>
						<span>Songs whose video titles or channels contain words on this list cannot be added to the queue.</span>
					</div>
					<div class="form-group modal-action" data-destination="whitelist">
						<i class="fa fa-check" style="margin-left: 3px"></i><label>Song Whitelist &raquo;</label>
						<span>Songs whose video titles or channels contain words on this list bypass the blacklist.</span>
					</div>
					<div class="form-group modal-action" data-destination="gallery">
						<i class="fa fa-picture-o"></i><label>Custom Gallery &raquo;</label>
						<span>Upload a collection of images to rotate through as the background for this room.</span>
					</div>
					<div class="form-group modal-action" data-destination="icon">
						<i class="fa fa-bell" style="margin-left: 2px"></i><label>Custom Icon &raquo;</label>
						<span>Upload an image to show on desktop notifications from this room. Only for users who have this feature enabled.</span>
					</div>
					<div class="form-group modal-action" data-destination="moderation">
						<i class="fa fa-balance-scale"></i><label>Moderation &raquo;</label>
						<span>Manage users with administration or moderation privileges, as well as those who are muted, banned or queue-banned.</span>
					</div>
					<div class="form-group modal-action danger" data-destination="danger">
						<i class="fa fa-exclamation-triangle danger" style="margin-left: 2px"></i><label>Danger Zone &raquo;</label>
						<span>Set or change a room password, transfer ownership, or delete a room.</span>
					</div>
				</div>
				<div id="room_settings_set_password" data-title="Set Password">
					<span class="room_settings_instructions">
						New users will have to know this password to join the room. Any existing users will be kicked out.
					</span>
					<div id="set_password_errors"></div>
					<div id="set_password_well">
						<label>Password</label>
						<input class="form-control" type="password" placeholder="Password" id="set_room_password_1">
						<label>Confirm Password</label>
						<input class="form-control" type="password" placeholder="Password" id="set_room_password_2">
						<button class="btn btn-info" id="set_room_password_btn">Go</button>
					</div>
					<div id="remove_password_well">
						<button class="btn" id="remove_room_password_btn">Remove Room Password</button>
					</div>
				</div>
				<div id="room_settings_transfer_ownership" data-title="Transfer Ownership">
					<span class="room_settings_instructions">
						You will lose admin privileges in this room, and they will be transferred to the user whom you select.
					</span>
					<div id="transfer_ownership_errors"></div>
					<input class="dynamic_user_list_footer form-control" id="transfer_ownership_textbox" placeholder="Type a username..." maxlength="30">
					<button class="btn btn-info" id="transfer_ownership_btn">Go</button>
					<div class="user_suggestion_wrapper" id="transfer_ownership_suggestion">
						<ul></ul>
					</div>
				</div>
				<div id="room_settings_danger" data-title="Danger Zone" class="room_settings_list">
					<div class="form-group modal-action" data-destination="set_password">
						<i class="fa fa-lock" style="margin-left: 4px"></i><label>Set Password &raquo;</label>
						<span>Requires new listeners to enter a password before accessing the room.</span>
					</div>
					<div class="form-group modal-action" data-destination="transfer_ownership">
						<i class="fa fa-sign-in" style="margin-left: 2px"></i><label>Transfer Ownership &raquo;</label>
						<span>Transfer owner privileges to another user.</span>
					</div>
					<div class="form-group modal-action" data-destination="delete_room">
						<i class="fa fa-trash" style="margin-left: 3px"></i><label>Delete Room &raquo;</label>
						<span>Permanently deletes this room and kicks all listeners back to the main page. The name can be used again by another user.</span>
					</div>
				</div>
				<div id="room_settings_moderation" data-title="Moderation" class="room_settings_list">
					<div class="form-group modal-action" data-destination="admin">
						<i class="fa fa-black-tie" style="margin-left: 4px"></i><label>Room Admins &raquo;</label>
						<span>Admins can add or remove hosts, ban/pardon rogue listeners, and edit room settings in addition to all of a host's moderation abilities.</span>
					</div>
					<div class="form-group modal-action" data-destination="host">
						<i class="fa fa-balance-scale"></i><label>Room Hosts &raquo;</label>
						<span>Hosts can skip songs, mute people in chat, and ban users from queueing songs.</span>
					</div>
					<div class="form-group modal-action" data-destination="ban">
						<i class="fa fa-ban" style="margin-left: 4px"></i><label>Banned Users &raquo;</label>
						<span>Manage users who can't access this room.</span>
					</div>
					<div class="form-group modal-action" data-destination="mute">
						<i class="fa fa-volume-off" style="margin-left: 6px"></i><label>Muted Users &raquo;</label>
						<span>Manage users who can't talk in this room.</span>
					</div>
					<div class="form-group modal-action" data-destination="queue_ban">
						<i class="fa fa-gavel" style="margin-left: 4px"></i><label>Queue Banned Users &raquo;</label>
						<span>Manage users who are banned from queueing songs in this room.</span>
					</div>
				</div>
				<div id="room_settings_blacklist" data-title="Song Blacklist">
					<span class="room_settings_instructions">
						Type or paste the list of video blacklist terms, one per line. Matches channel and title, not case sensitive.
					</span>
					<textarea id="room_blacklist" class="form-control" rows="8"></textarea>
				</div>
				<div id="room_settings_whitelist" data-title="Song Whitelist">
					<span class="room_settings_instructions">
						Type or paste the list of video whitelist terms, one per line. Items on this list bypass the blacklist and will be allowed to queue. Matches channel and title, not case sensitive.
					</span>
					<textarea id="room_whitelist" class="form-control" rows="8"></textarea>
				</div>
				<div id="room_settings_delete_room" data-title="Delete Room">
					<span class="room_settings_instructions">
						All existing users will be kicked out of the room, and all settings associated with this room will be deleted. This included backgrounds, lists of banned, muted, queue banned users, hosts and admins.
					</span>
					<div id="delete_room_errors"></div>
					<button class="btn btn-danger" id="delete_room_btn">Delete Room</button>
				</div>
				<div id="room_settings_admin" data-title="Room Admins">
					<div class="dynamic_user_list">
						<ul id="room_admin_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="admin_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_admin">Add</button>
						<span id="admin_error"></span>
						<div class="user_suggestion_wrapper" id="admin_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_host" data-title="Room Hosts">
					<div class="dynamic_user_list">
						<ul id="room_host_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="host_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_host">Add</button>
						<span id="host_error"></span>
						<div class="user_suggestion_wrapper" id="host_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_ban" data-title="Banned Users">
					<div class="dynamic_user_list">
						<ul id="room_ban_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="ban_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_ban">Add</button>
						<span id="ban_error"></span>
						<div class="user_suggestion_wrapper" id="ban_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_mute" data-title="Muted Users">
					<div class="dynamic_user_list">
						<ul id="room_mute_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="mute_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_mute">Add</button>
						<span id="mute_error"></span>
						<div class="user_suggestion_wrapper" id="mute_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_queue_ban" data-title="Queue Banned Users">
					<div class="dynamic_user_list">
						<ul id="room_queue_ban_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="queue_ban_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_queue_ban">Add</button>
						<span id="queue_ban_error"></span>
						<div class="user_suggestion_wrapper" id="queue_ban_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_gallery" data-title="Custom Gallery">
					<input id="file_upload_gallery" type="file" name="files[]" multiple>
					<br>
					<div id="progress_gallery" class="progress">
						<div class="progress-bar progress-bar-success"></div>
					</div>
					<div id="files_gallery" class="files"></div>
				</div>
				<div id="room_settings_icon" data-title="Custom Icon">
					<div id="icon_preview">
						<img src="http://static.totem.fm/default_notification.png">
					</div>
					<div id="icon_upload_wrapper">
						<span class="room_settings_instructions">This icon is displayed on notifications for song changes or chat mentions for users that have them enabled.</span>
						<input id="file_upload_icon" type="file" name="files">
						<br>
						<div id="progress_icon" class="progress">
							<div class="progress-bar progress-bar-success"></div>
						</div>
						<div id="files_icon" class="files"></div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" id="save_room_settings">Save</button>
				<button type="button" class="btn" id="cancel_room_settings">Cancel</button>
				<span id="room_settings_spinner"><i class="fa fa-circle-o-notch fa-spin"></i></span>
			</div>
		</div>
	</div>
</div>