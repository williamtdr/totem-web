<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="google-signin-scope" content="profile email">
	<meta name="google-signin-client_id" content="">
	<title>Totem</title>
	<link rel="shortcut icon" type="image/png" href="favicon.png">
	<link href="http://static.totem.fm/totem.vendor.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:400,300|Raleway:400,300,500" rel="stylesheet">
	<link href="dist/totem.min.css" rel="stylesheet">
</head>
<body>
<div id="background_layer"></div>
<div id="background_shader"></div>
<nav class="no-sel">
	<span id="logo">totem <span id="logo_subheader">beta</span></span>
	<ul id="desktop_nav">
		<li class="nav_room_list active">Rooms</li>
		<li class="nav_player">Now Playing</li>
		<li class="nav_music_list">My Music</li>
	</ul>
	<ul id="mobile_nav">
		<li class="nav_room_list active"></li>
		<li class="nav_player"></li>
		<li class="nav_music_list"></li>
		<li class="nav_chat"></li>
		<li class="nav_info"></li>
	</ul>
	<div class="pull-right">
		<div id="my_queue">
			<i class="fa fa-repeat"></i>
			<span>My Queue</span>
		</div>
		<a id="login_menu"></a>
	</div>
</nav>
<div id="user_menu">
	<ul>
		<li class="header">Notifications</li>
		<li id="setting_song_change" class="switch">Song Change<span class="switch-indicator switch-enabled">ON</span><div class="switch_selector"></div></li>
		<li id="setting_chat_notifications" class="switch">Chat<span class="switch-indicator switch-multiple">MENTION</span><div class="switch_selector big_selector"></div></li>
		<li class="seperator"></li>
		<li id="setting_change_username">Change Username</li>
		<li id="logout">Logout</li>
	</ul>
</div>
<div id="queue_view_container">
	<div id="queue_view">

	</div>
</div>
<div class="modal fade" id="room_description_modal" tabindex="-1" role="dialog" aria-labelledby="room_description_modal_label">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="room_description_modal_label">Room Description</h4>
			</div>
			<div class="modal-body" id="room_description_extend_content"></div>
			<div class="modal-footer">
				press esc to close
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="change_username_modal" tabindex="-1" role="dialog" aria-labelledby="change_username_modalLabel">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="change_username_modalLabel">Welcome!</h4>
			</div>
			<div class="modal-body">
				<span id="change_username_modal_text">Thanks for joining the party. Pick a username:</span>
				<input type="text" class="form-control" id="username_change" maxlength="30">

				<div class="errors"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" id="save_username">Save</button>
				<span id="change_username_spinner"><i class="fa fa-circle-o-notch fa-spin"></i></span>
			</div>
		</div>
	</div>
</div>
<div id="notification_request" class="dark-notification">
	<h4>Show desktop notifications?</h4>
	<p>We'll let you know when you're mentioned in chat or the song changes, configurable in the settings menu.</p>
	<span id="notification_request_actions" class="dark-notification-actions">
		<span id="notification_request_accept" class="dark-notification-success">Sure!</span>
		<span id="notification_request_deny" class="dark-notification-failure">No thanks.</span>
		<span id="notification_request_dismiss" class="dark-notification-other">Got it!</span>
	</span>
</div>
<div id="basic_player_tutorial" class="dark-notification">
	<div class="progress-dots">
		<div id="dot0"></div><div id="dot1"></div><div id="dot2"></div><div id="dot3"></div><div id="dot4"></div><div id="dot5"></div>
	</div>
	<h4>Welcome!</h4>
	<p>On Totem, anyone can be a DJ or a critic.<br>I can show you around if you'd like.</p>
	<span id="basic_player_tutorial_actions" class="dark-notification-actions">
		<span id="basic_player_tutorial_accept" class="dark-notification-success">Sure!</span>
		<span id="basic_player_tutorial_deny" class="dark-notification-failure">No thanks.</span>
		<span id="basic_player_tutorial_advance" class="dark-notification-other">Next &raquo;</span>
	</span>
</div>
<div class="modal fade" id="commands_modal" tabindex="-1" role="dialog" aria-labelledby="commands_modalLabel">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="commands_modalLabel">Command Reference</h4>
			</div>
			<div class="modal-body">
				<b>Normal</b>
				<span class="command"><span class="command_stem">/help:</span> Show this reference.</span>
				<span class="command"><span class="command_stem">/me <span class="command_arguments">[message]</span>:</span> Express an action.</span>
				<b>Host</b>
				<span class="command"><span class="command_stem">/skip (/s):</span> Skips the current song and advances the queue.</span>
				<span class="command"><span class="command_stem">/queueban (/qb) <span class="command_arguments">[username]</span>:</span> Prevents a user from queueing songs.</span>
				<span class="command"><span class="command_stem">/mute (/m) <span class="command_arguments">[username]</span>:</span> Prevents a user from talking in chat.</span>
				<span class="command"><span class="command_stem">/unqueueban (/uqb) <span class="command_arguments">[username]</span>:</span> Revokes a queue restriction for a user.</span>
				<span class="command"><span class="command_stem">/unmute (/um) <span class="command_arguments">[username]</span>:</span> Revokes a chat restriction for a user.</span>
				<b>Admin</b>
				<span class="command"><span class="command_stem">/ban (/b) <span class="command_arguments">[username]</span>:</span> Prevents a user from joining a room.</span>
				<span class="command"><span class="command_stem">/pardon | /unban (/ub) <span class="command_arguments">[username]</span>:</span> Revokes a ban for a user.</span>
				<span class="command"><span class="command_stem">/promote <span class="command_arguments">[username] [host/admin]</span>:</span> Grants a user privileges.</span>
				<span class="command"><span class="command_stem">/demote <span class="command_arguments">[username]</span>:</span> Revokes privileges for a user.</span>
			</div>
			<div class="modal-footer">
				press esc to close
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="room_settings_modal" tabindex="-1" role="dialog" aria-labelledby="room_settings_modalLabel">
	<div class="modal-dialog">
		<div class="modal-content room-settings-content">
			<div class="modal-header">
				<h4 class="modal-title" id="room_settings_modalLabel"><a id="room_settings_return"><i class="fa fa-angle-left"></i></a><span id="room_settings_title">Room Settings</span></h4>
			</div>
			<div class="modal-body">
				<div id="room_settings_home" data-title="Room Settings" class="room_settings_list">
					<div class="form-group">
						<label for="room_settings_desc">Description</label>
						<textarea class="form-control" id="room_settings_desc"></textarea>
					</div>
					<div class="form-group modal-action" data-destination="blacklist">
						<i class="fa fa-ban" style="margin-left: 4px"></i><label>Song Blacklist &raquo;</label>
						<span>Songs whose video titles or channels contain words on this list cannot be added to the queue.</span>
					</div>
					<div class="form-group modal-action" data-destination="whitelist">
						<i class="fa fa-check" style="margin-left: 3px"></i><label>Song Whitelist &raquo;</label>
						<span>Songs whose video titles or channels contain words on this list bypass the blacklist.</span>
					</div>
					<div class="form-group modal-action" data-destination="gallery">
						<i class="fa fa-picture-o"></i><label>Custom Gallery &raquo;</label>
						<span>Upload a collection of images to rotate through as the background for this room.</span>
					</div>
					<!--<div class="form-group modal-action" data-destination="icon">
						<i class="fa fa-bell" style="margin-left: 2px"></i><label>Custom Icon &raquo;</label>
						<span>Upload an image to show on desktop notifications from this room. Only for users who have this feature enabled.</span>
					</div>!-->
					<div class="form-group modal-action" data-destination="moderation">
						<i class="fa fa-balance-scale"></i><label>Moderation &raquo;</label>
						<span>Manage users with administration or moderation privileges, as well as those who are muted, banned or queue-banned.</span>
					</div>
					<div class="form-group modal-action danger" data-destination="danger">
						<i class="fa fa-exclamation-triangle danger" style="margin-left: 2px"></i><label>Danger Zone &raquo;</label>
						<span>Set or change a room password, transfer ownership, or delete a room.</span>
					</div>
				</div>
				<div id="room_settings_set_password" data-title="Set Password">
					<span class="room_settings_instructions">
						New users will have to know this password to join the room. Any existing users will be kicked out.
					</span>
					<div id="set_password_errors"></div>
					<div id="set_password_well">
						<label>Password</label>
						<input class="form-control" type="password" placeholder="Password" id="set_room_password_1">
						<label>Confirm Password</label>
						<input class="form-control" type="password" placeholder="Password" id="set_room_password_2">
						<button class="btn btn-info" id="set_room_password_btn">Go</button>
					</div>
					<div id="remove_password_well">
						<button class="btn" id="remove_room_password_btn">Remove Room Password</button>
					</div>
				</div>
				<div id="room_settings_danger" data-title="Danger Zone" class="room_settings_list">
					<div class="form-group modal-action" data-destination="set_password">
						<i class="fa fa-lock" style="margin-left: 4px"></i><label>Set Password &raquo;</label>
						<span>Requires new listeners to enter a password before accessing the room.</span>
					</div>
					<div class="form-group modal-action" data-destination="transfer_ownership">
						<i class="fa fa-sign-in" style="margin-left: 2px"></i><label>Transfer Ownership &raquo;</label>
						<span>Transfer owner privileges to another user.</span>
					</div>
					<div class="form-group modal-action" data-destination="delete_room">
						<i class="fa fa-trash" style="margin-left: 3px"></i><label>Delete Room &raquo;</label>
						<span>Permanently deletes this room and kicks all listeners back to the main page. The name can be used again by another user.</span>
					</div>
				</div>
				<div id="room_settings_moderation" data-title="Moderation" class="room_settings_list">
					<div class="form-group modal-action" data-destination="admin">
						<i class="fa fa-black-tie" style="margin-left: 4px"></i><label>Room Admins &raquo;</label>
						<span>Admins can add or remove hosts, ban/pardon rogue listeners, and edit room settings in addition to all of a host's moderation abilities.</span>
					</div>
					<div class="form-group modal-action" data-destination="host">
						<i class="fa fa-balance-scale"></i><label>Room Hosts &raquo;</label>
						<span>Hosts can skip songs, mute people in chat, and ban users from queueing songs.</span>
					</div>
					<div class="form-group modal-action" data-destination="ban">
						<i class="fa fa-ban" style="margin-left: 4px"></i><label>Banned Users &raquo;</label>
						<span>Manage users who can't access this room.</span>
					</div>
					<div class="form-group modal-action" data-destination="mute">
						<i class="fa fa-volume-off" style="margin-left: 6px"></i><label>Muted Users &raquo;</label>
						<span>Manage users who can't talk in this room.</span>
					</div>
					<div class="form-group modal-action" data-destination="queue_ban">
						<i class="fa fa-gavel" style="margin-left: 4px"></i><label>Queue Banned Users &raquo;</label>
						<span>Manage users who are banned from queueing songs in this room.</span>
					</div>
				</div>
				<div id="room_settings_blacklist" data-title="Song Blacklist">
					<span class="room_settings_instructions">
						Type or paste the list of video blacklist terms, one per line. Matches channel and title, not case sensitive.
					</span>
					<textarea id="room_blacklist" class="form-control" rows="8"></textarea>
				</div>
				<div id="room_settings_whitelist" data-title="Song Whitelist">
					<span class="room_settings_instructions">
						Type or paste the list of video whitelist terms, one per line. Items on this list bypass the blacklist and will be allowed to queue. Matches channel and title, not case sensitive.
					</span>
					<textarea id="room_whitelist" class="form-control" rows="8"></textarea>
				</div>
				<div id="room_settings_delete_room" data-title="Delete Room">
					<span class="room_settings_instructions">
						All existing users will be kicked out of the room, and all settings associated with this room will be deleted. This included backgrounds, lists of banned, muted, queue banned users, hosts and admins.
					</span>
					<div id="delete_room_errors"></div>
					<button class="btn btn-danger" id="delete_room_btn">Delete Room</button>
				</div>
				<div id="room_settings_admin" data-title="Room Admins">
					<div class="dynamic_user_list">
						<ul id="room_admin_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="admin_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_admin">Add</button>
						<span id="admin_error"></span>
						<div class="user_suggestion_wrapper" id="admin_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_host" data-title="Room Hosts">
					<div class="dynamic_user_list">
						<ul id="room_host_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="host_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_host">Add</button>
						<span id="host_error"></span>
						<div class="user_suggestion_wrapper" id="host_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_ban" data-title="Banned Users">
					<div class="dynamic_user_list">
						<ul id="room_ban_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="ban_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_ban">Add</button>
						<span id="ban_error"></span>
						<div class="user_suggestion_wrapper" id="ban_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_mute" data-title="Muted Users">
					<div class="dynamic_user_list">
						<ul id="room_mute_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="mute_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_mute">Add</button>
						<span id="mute_error"></span>
						<div class="user_suggestion_wrapper" id="mute_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_queue_ban" data-title="Queue Banned Users">
					<div class="dynamic_user_list">
						<ul id="room_queue_ban_list">
							<li>Loading...</li>
						</ul>
						<input class="dynamic_user_list_footer form-control" id="queue_ban_textbox" placeholder="Type a username..." maxlength="30">
						<button class="btn btn-info user_add" id="user_add_queue_ban">Add</button>
						<span id="queue_ban_error"></span>
						<div class="user_suggestion_wrapper" id="queue_ban_suggestion">
							<ul></ul>
						</div>
					</div>
				</div>
				<div id="room_settings_gallery" data-title="Custom Gallery">
					<input id="fileupload" type="file" name="files[]" multiple>
					<br>
					<div id="progress" class="progress">
						<div class="progress-bar progress-bar-success"></div>
					</div>
					<div id="files" class="files"></div>
				</div>
				<div id="room_settings_icon" data-title="Custom Icon">
					Coming soon!
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" id="save_room_settings">Save</button>
				<button type="button" class="btn" id="cancel_room_settings">Cancel</button>
				<span id="room_settings_spinner"><i class="fa fa-circle-o-notch fa-spin"></i></span>
			</div>
		</div>
	</div>
</div>
<div id="disconnected" class="animsition">
	<table>
		<tr>
			<td width="100px">
				<i class="fa fa-exclamation-triangle disconnected-triangle"></i>
			</td>
			<td>
				<div class="disconnected-header">Disconnected
					<div class="disconnected-body">
						The server is probably restarting or being worked on. Refreshing in <span id="disconnected-countdown">3</span>...
					</div>
				</div>
			</td>
		</tr>
	</table>
</div>
<div id="music_list" class="animsition container">
	<div id="playlist_list">

	</div>
	<div id="queue_permission_failure" class="container">
		<i class="fa fa-ban"></i>
		<h2>You are banned from queueing songs in this room.</h2>
		<p>Contact a room staff member for more information or to remove the ban.</p>
	</div>
	<div id="playlist_items">
		<span class="playlist-list-return">&laquo; Playlists</span>
		<ul class="list-group sidebar-playlist playlist-list-content">
			<li class="list-group-item playlist">
				Loading...
			</li>
		</ul>
	</div>
	<div id="playlist_search" class="animsition">
		<span class="playlist-list-return">&laquo; Search</span>

		<form id="searchYoutube" class="input-group">
			<input type="text" class="form-control" id="search_text" placeholder="Search Youtube">
			<span class="input-group-btn">
				<button class="btn btn-primary" type="submit" id="search_send">Search</button>
			</span>
		</form>

		<div class="searchResults">
			<ul class="list-group sidebar-playlist playlist-list-content"></ul>
		</div>
	</div>
</div>
<div id="room_list" class="animsition container">
	<div class="row">
		<div class="col-sm-4">
			<div class="panel panel-dark" id="room_list_tools">
				<b>Welcome!</b> Totem lets you find new music through great communities. Share your favorite songs, or just hang out!
				<ul id="room_list_options">
					<li id="nav_create_room"><i class="fa fa-plus"></i>Create Room</li>
					<li id="nav_refresh_list"><i class="fa fa-refresh"></i>Refresh List</li>
				</ul>
			</div>
		</div>
		<div id="room_list_content"></div>
	</div>
</div>
<div id="player" class="animsition player_container">
	<div id="now_playing_content">
		<div id="waiting_for_server">
			<div class="container">
				<i class="fa fa-circle-o-notch fa-spin"></i> Joining the room...
			</div>
		</div>
		<div id="requires_authentication" class="container">
			<i class="fa fa-lock"></i>
			<h2><span id="room_password_name_target"></span> requires a password to join.</h2>
			<div class="input-group">
				<input class="form-control" type="password" placeholder="room password" id="room_password_prompt">
				<span class="input-group-btn">
					<button class="btn btn-info" id="submit_room_password">Go</button>
				</span>
			</div>
			<input type="checkbox" checked id="remember_room_password"> Remember Password
			<span id="invalid_room_password">Incorrect password.</span>
		</div>
		<div id="permission_failure" class="container">
			<i class="fa fa-ban"></i>
			<h2>You are banned from joining this room.</h2>
			<p>Contact a room staff member for more information or to remove the ban. <a class="nav_room_list">Return to the room list?</a></p>
		</div>
		<div id="main_content">
			<div class="song-title-container">
				<h1 class="title_display"></h1>
				<h3 class="artist_display"></h3>
			</div>

			<div id="time_elapsed"><div></div></div>
			<span id="time-remaining">0:00</span>

			<div class="current-dj-wrapper">
				<span class="current-dj"></span>
				<i class="fa fa-headphones"></i>
			</div>

			<div class="embed-responsive embed-responsive-16by9">
				<div id="youtube_player"></div>
			</div>

			<div id="toggle_block" class="no-sel">
				<div id="player_actions" class="pull-left">
					<div id="video-toggle" class="toggle">
						<i class="fa fa-eye"></i>
					</div>
					<div id="volume-toggle" class="toggle">
						<i class="fa fa-volume-down"></i>
					</div>

					<input type="range" value="50" min="0" max="100" id="volume-slider">
				</div>

				<div id="vote_actions" class="pull-right">
					<div id="score_wrapper">
						<div id="score-negative-wrapper" class="pointer">
							<i class="fa fa-chevron-down"></i>
							<div id="score-negative" class="score"></div>
						</div>
						<div id="score-positive-wrapper" class="pointer">
							<i class="fa fa-chevron-up"></i>
							<div id="score-positive" class="score"></div>
						</div>
					</div>
					<span id="youtube_rate">
						<i class="fa fa-thumbs-up"></i> <span class="rate">Like</span>
					</span>
				</div>
			</div>
		</div>

		<div id="no_video" class="no-sel">
			<span class="big-header">Awkward silence...</span>

			<div class="small-header">No song is in the queue to play. You can add one from the <i>My Music</i> tab.
			</div>
		</div>
		<div id="sidebar" class="col-xs-4">
			<div id="top_info_panel">
				<div id="room_info">
					<span id="room-title" class="room-title"></span>
				<span id="room_description_wrapper">
					<span id="room_description"></span>
				</span>
				<span id="room_users_wrapper" class="no-sel">
					<span id="room-users" class="focused"><span class="number">0</span> <span class="room-info-footer">listening</span></span>
					<span id="room-queue" class="focused"><span class="number">0</span> <span class="room-info-footer">in queue</span></span>
				</span>
				</div>
				<div id="manual">
					<span id="playlist-title"></span>
					<span id="add-to-queue" class="manual-option"><a><i class="fa fa-plus"></i> add song to queue</a></span>
					<span id="manual-notice" class="manual-option"><a onclick="switchClientState(STATE_PLAYING)"><i class="fa fa-chevron-left"></i> back to <span class="room-title"></span></a></span>
				</div>
			</div>
			<div id="user_list" class="toToggle list_menu"></div>
			<div id="queue_list" class="toToggle list_menu"></div>
			<div id="chat" class="chat toToggle">
				<div class="chat-text"></div>
				<div class="chat_textbox input-group"></div>
			</div>
		</div>
	</div>
	<div id="now_playing_placeholder">
		Join a room or queue a song from your collection to see controls here.
	</div>
</div>
<div id="create_form" class="animsition container">
	<div id="room_form_header">
		<span id="room_form_back"></span><span id="room_form_name">Create Room</span>
	</div>

	<div class="alert alert-danger"></div>

	<div id="create_room_form_placeholder">
		Please <a class="signInButton">log in</a> to create a room.
	</div>
	<div id="create_room_form_content">
		<div class="form-group">
			<label for="new_room_name">Room name</label>
			<input id="new_room_name" type="text" class="form-control input-lg">

			<label for="new_room_description">Room Description</label>
			<textarea id="new_room_description" class="form-control"></textarea>

			<div id="room_form_password_select">
				<span id="room_form_public" class="password_switcher_enabled">anyone can join</span>  &middot;  <span id="room_form_password" class="password_switcher_disabled">ask for a password</span>
			</div>

			<div id="room_form_password_well">
				<input type="password" id="new_room_password" class="form-control" placeholder="password">
			</div>

			<button type="submit" class="btn btn-info">Create</button>
		</div>
	</div>
</div>

<script src="http://static.totem.fm/totem.vendor.min.js"></script>
<script src="dist/totem.min.js"></script>
<script src="https://apis.google.com/js/client:platform.js?onload=initAuth2" async defer></script>
<script src="https://apis.google.com/js/platform.js" async defer></script>
<script src="https://apis.google.com/js/client.js?onload=init"></script>
<script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>